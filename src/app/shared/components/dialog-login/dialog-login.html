<h2 mat-dialog-title>Login</h2>
<form [formGroup]="form" (ngSubmit)="login()">
	<mat-dialog-content class="form-grid">
		<mat-form-field class="full-width" appearance="fill">
			<mat-label>Email</mat-label>
			<input matInput type="email" formControlName="email">
		</mat-form-field>

		<mat-form-field class="full-width" appearance="fill">
			<mat-label>Password</mat-label>
			<input matInput type="password" formControlName="password" autocomplete>
		</mat-form-field>

		@if (error$ | async; as apiError) {
		<div class="error-message">
			{{ apiError }}
		</div>
		}

		@if (loading$ | async; as loading) {
		<div class="form-spinner">
			<mat-spinner></mat-spinner>
		</div>
		}

		@if (isLoggedIn$ | async) {
		<div class="hint">Logged in!</div>
		}


	</mat-dialog-content>
	<mat-dialog-actions>
		<button mat-button mat-dialog-close>Cancel</button>
		<button type="submit" mat-button>Login</button>
	</mat-dialog-actions>
</form>